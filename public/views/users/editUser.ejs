<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/style.css" rel="stylesheet" type="text/css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <title>User Management</title>
    <script src="/js/script.js"></script>
</head>
<body>
    <%- include('__menu') %>
    <div id="container">
        <div class="path"><label><a class="path" href="/">Home</a> / Edit User</label></div>
        
        <div id="user-form">   
            <form id="form" action="/users/edit/<%= user.id %>" method="POST">
                <div class="form-field"><label>FIRST NAME</label><br /><input id="firstName-input" class="user-form-input" value="<%= user.firstName %>" name="firstName" type="text" /></div>
                <div class="form-field"><label>LAST NAME</label><br /><input id="lastName-input" class="user-form-input" value="<%= user.lastName %>" name="lastName" type="text" /></div>
            
                <div style="clear: both;"></div>
            
                <div class="form-field"><label>ROLE</label><br />
                    <select name="role" class="user-form-select">
                        <option selected value="<%= user.role %>"><%= user.role %></option>
                        <option value="<%= user.role=='admin' ? 'user' : 'admin' %>"><%= user.role=='admin' ? 'user' : 'admin' %></option>
                    </select>
                </div>
                <div class="form-field"><label>SURRNAME</label><br /><input id="surrname-input" class="user-form-input" value="<%= user.surrname %>" name="surrname" type="text" /></div>
            
                <div style="clear: both;"></div>
            
                <div class="form-field"><label>EMAIL</label><br /><input id="email-input" class="user-form-input" value="<%= user.email %>" name="email" type="text" /></div>
                <div class="form-field"><label>PHONE</label><br /><input id="phone-input" class="user-form-input" value="<%= user.phone %>" name="phone" type="text" /></div>
            
                <div style="clear: both;"></div>
            </form>
            <div>
                <a href="/users/delete/<%= user.id %>"><div class="btn" id="btn-delete">Delete</div></a>
                <button onclick="CheckValidationAndSendForm()" class="btn-menu">Save</button>
            </div>    
            <div style="text-align: center;">
                <p id="validation-text" class="validation"></p>
            </div>
        </div>
    </div>
    
</body>
</html>